#!/bin/bash
#In most of the linux servers all the package installation are done by admin so befor erunning the script, we need to check if the user is super user or normal user 
#If we need to check who is running the script, normal user or super user, do as below
#If the user is not super user then the script throws error otherwise it proceeds further
USERID=$(id -u)
if [ $USERID -ne 0 ]
then 
   echo "Please run the script using root privilages"
   exit 1
else
   echo "You are super user"
fi
#If the exit status of the command is 0 then the script proceeds otherwise it exits
#In scripting if any block of code is repeating then we can put it in function and call it through the function name

validate(){
if [ $1 -eq 0 ]
then
  echo "$2...SUCCESS"
else
  echo "$2....FAILURE"
  exit 1
fi

}
dnf install mysql-server -y
validate $? "Installation of mysql server"

systemctl enable mysqld
validate $? "Enabling of mysql server"

systemctl start mysqld
validate $? "Starting of mysql server"


mysql_secure_installation --set-root-pass ExpenseApp@1
validate $? "Setting up root password for mysql server"
